<section class="py-5">
    <div class="container">
        <div class="row gx-5">
            <aside class="col-lg-6">
                <div class="border rounded-4 mb-3 d-flex justify-content-center">
                    <a data-fslightbox="mygallery" class="rounded-4" target="_blank" data-type="image" [href]="selectedItem?.img">
                        <img style="max-width: 100%; max-height: 100vh; margin: auto;" class="rounded-4 fit" [src]="selectedItem?.img" alt="Main product image"/>
                    </a>
                    <!-- <span style="font-weight: 500;">Likes: {{ selectedItem?.likesCount }}</span><br /> -->
                </div>
                <div class="d-flex justify-content-center mb-3">
                    <a data-fslightbox="mygalley" class="border mx-1 rounded-2" target="_blank" data-type="image" href="https://mdbcdn.b-cdn.net/img/bootstrap-ecommerce/items/detail1/big1.webp" class="item-thumb">
                      <img width="60" height="60" class="rounded-2" src="https://mdbcdn.b-cdn.net/img/bootstrap-ecommerce/items/detail1/big1.webp" />
                    </a>
                    <a data-fslightbox="mygalley" class="border mx-1 rounded-2" target="_blank" data-type="image" href="https://mdbcdn.b-cdn.net/img/bootstrap-ecommerce/items/detail1/big2.webp" class="item-thumb">
                      <img width="60" height="60" class="rounded-2" src="https://mdbcdn.b-cdn.net/img/bootstrap-ecommerce/items/detail1/big2.webp" />
                    </a>
                    <a data-fslightbox="mygalley" class="border mx-1 rounded-2" target="_blank" data-type="image" href="https://mdbcdn.b-cdn.net/img/bootstrap-ecommerce/items/detail1/big3.webp" class="item-thumb">
                      <img width="60" height="60" class="rounded-2" src="https://mdbcdn.b-cdn.net/img/bootstrap-ecommerce/items/detail1/big3.webp" />
                    </a>
                    <a data-fslightbox="mygalley" class="border mx-1 rounded-2" target="_blank" data-type="image" href="https://mdbcdn.b-cdn.net/img/bootstrap-ecommerce/items/detail1/big4.webp" class="item-thumb">
                      <img width="60" height="60" class="rounded-2" src="https://mdbcdn.b-cdn.net/img/bootstrap-ecommerce/items/detail1/big4.webp" />
                    </a>
                    <a data-fslightbox="mygalley" class="border mx-1 rounded-2" target="_blank" data-type="image" href="https://mdbcdn.b-cdn.net/img/bootstrap-ecommerce/items/detail1/big.webp" class="item-thumb">
                      <img width="60" height="60" class="rounded-2" src="https://mdbcdn.b-cdn.net/img/bootstrap-ecommerce/items/detail1/big.webp" />
                    </a>
                  </div>
                <div class="d-flex justify-content-center mb-3">
                    <ng-container *ngFor="let image of selectedItem?.galleryImages">
                        <a data-fslightbox="mygallery" class="border mx-1 rounded-2" target="_blank" data-type="image" [href]="image">
                            <img width="60" height="60" class="rounded-2" [src]="image" alt="Thumbnail image"/>
                        </a>
                    </ng-container>
                </div>
            </aside>
            <main class="col-lg-6">
                <div class="ps-lg-3">
                    <h4 class="title text-dark">{{ selectedItem?.name }}</h4>
                    <div class="d-flex flex-row my-3">
                        <div class="text-warning mb-1 me-2">
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fa fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                            <span class="ms-1">4.5</span>
                        </div>
                        <span class="text-muted"><i class="fas fa-shopping-basket fa-sm mx-1"></i>154 orders</span>
                        <span class="text-success ms-2">In stock</span>
                    </div>

                    <div class="mb-3">
                        <span class="h5">${{ selectedItem?.rate }}</span><br/>
                        <span class="h5">{{ selectedItem?.discount }}</span><br/>
                        <span style="text-decoration:line-through;" class="h5">${{ selectedItem?.price }}</span><br/>

                        <span class="text-muted">/Per Pcs</span>
                    </div>

                    <p>{{ selectedItem?.description }}</p>

                    <div class="row">
                        <dt class="col-3">Type:</dt>
                        <dd class="col-9">Regular</dd>
                        <dt class="col-3">Color</dt>
                        <dd class="col-9">{{ selectedItem?.color }}</dd>
                        <dt class="col-3">Material</dt>
                        <dd class="col-9">{{ selectedItem?.material }}</dd>
                        <dt class="col-3">Brand</dt>
                        <dd class="col-9">{{ selectedItem?.brand }}</dd>
                    </div>

                    <hr />

                    <div class="row mb-4">
                        <div class="col-md-4 col-6">
                            <label class="mb-2">Size</label>
                            <select class="form-select border border-secondary" style="height: 35px;">
                                <option>{{selectedItem?.size}}</option>
                                <!-- <option>Medium</option>
                                <option>Large</option> -->
                            </select>
                        </div>
                    </div>
                    <button class="btn btn-warning shadow-0" (click)="pay(selectedItem?.rate)"> Buy Now </button>
                    <button (click)="addTocart(selectedItem)" class="btn btn-primary shadow-0"> 
                        <i class="me-1 fa fa-shopping-basket"></i> Add to cart 
                    </button>
                    <!-- <div *ngFor="let item of items"> -->
                      <!-- <span style="font-weight: 500;">Likes: {{ item.likes }}</span><br /> -->
                      <button class="btn btn-light border border-secondary py-2 icon-hover px-3" (click)="SaveList(item)"> 
                          <i class="me-1 fa fa-heart fa-lg"></i> Save 
                      </button>
                  <!-- </div> -->
                  <div *ngFor="let comment of selectedItem?.comments">
                     <strong style="color: red;">comment : {{comment?.user.username }}:</strong> {{ comment.comment }}<br /> 
                  </div>
                </div> 
            </main>
        </div>
    </div>
</section>

<section class="bg-light border-top py-4">
    <div class="container">
        <div class="row gx-4">
            <div class="col-lg-8 mb-4">
                <div class="border rounded-2 px-3 py-2 bg-white">
                    <ul class="nav nav-pills nav-justified mb-3" id="ex1" role="tablist">
                        <li class="nav-item" role="presentation">
                            <a class="nav-link active" id="ex1-tab-1" data-mdb-toggle="pill" href="#ex1-pills-1" role="tab" aria-controls="ex1-pills-1" aria-selected="true">Specification</a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link" id="ex1-tab-2" data-mdb-toggle="pill" href="#ex1-pills-2" role="tab" aria-controls="ex1-pills-2" aria-selected="false">Warranty info</a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link" id="ex1-tab-3" data-mdb-toggle="pill" href="#ex1-pills-3" role="tab" aria-controls="ex1-pills-3" aria-selected="false">Shipping info</a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link" id="ex1-tab-4" data-mdb-toggle="pill" href="#ex1-pills-4" role="tab" aria-controls="ex1-pills-4" aria-selected="false">Seller profile</a>
                        </li>
                    </ul>
                    <div class="tab-content" id="ex1-content">
                        <div class="tab-pane fade show active" id="ex1-pills-1" role="tabpanel" aria-labelledby="ex1-tab-1">
                            <p>
                                With supporting text below as a natural lead-in to additional content. Lorem ipsum dolor sit amet, consectetur adipisicing elit.
                            </p>
                            <div class="row mb-2">
                                <div class="col-12 col-md-6">
                                    <ul class="list-unstyled mb-0">
                                        <li><i class="fas fa-check text-success me-2"></i>Some great feature name here</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Lorem ipsum dolor sit amet</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Duis aute irure dolor in reprehenderit</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Optical heart sensor</li>
                                    </ul>
                                </div>
                                <div class="col-12 col-md-6 mb-0">
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>Easy fast and very good</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Some great feature name here</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Modern style and design</li>
                                    </ul>
                                </div>
                            </div>
                            <table class="table border mt-3 mb-2">
                                <tr>
                                    <th class="py-2">Display:</th>
                                    <td class="py-2">13.3-inch LED-backlit display with IPS</td>
                                </tr>
                                <tr>
                                    <th class="py-2">Processor capacity:</th>
                                    <td class="py-2">2.3GHz dual-core Intel Core i5</td>
                                </tr>
                                <tr>
                                    <th class="py-2">Memory (RAM):</th>
                                    <td class="py-2">8GB 2133MHz LPDDR3</td>
                                </tr>
                            </table>
                        </div>
                        <!-- Additional Tab Contents Go Here -->
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<input type="text" placeholder="write your comment here" name="comment"  [(ngModel)]="comment"/>
<button (click)="addComment()">Add Comment</button>
<div class="container">
    <div class="Under-container">
      <div class="Inner-User_container">
       
        <ul class="list-group" style="display: flex; flex-direction: row; flex-wrap: wrap; gap: 10px; justify-content: space-evenly;">
          <li *ngFor="let item of items" class="item-list" style="display: flex; width: 20%;" (click)="ItemDetail(item)">
            <div class="item-details">
              <img [src]="item.img" alt="{{ item.name }}" class="img-fluid mt-2" />
              <div>
                <strong class="item-name">{{ truncateName(item.name) }}</strong><br />
                <span style="font-weight: 500; color:red">{{ item.rate }} USD</span><br />
                <span style="font-weight: 500;">{{ truncateName(item.description) }}</span><br />
                <span style="font-weight: 500; color:red">{{ item.color }}</span><br />
                <button style="font-weight: 500; ">{{ item.size }}</button><br />
                
                <span style="font-weight: 500;">Likes: {{ item.likesCount }}</span><br />
                <div *ngFor="let comment of item.comments">
                  <strong>comment:{{comment.user.username}}</strong> {{ comment.comment }}<br /> 
                </div>
              </div>
            </div> 
          </li>
        </ul>
  
        <div *ngIf="items.length === 0" class="alert alert-warning text-center mt-4">
          No items available!
        </div>
      </div>
    </div>
  </div>
  